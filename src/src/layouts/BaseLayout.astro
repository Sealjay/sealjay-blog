---
import BaseHead from "../components/partials/BaseHead.astro";
import Header from "../components/partials/Header.astro";
import Footer from "../components/partials/Footer.astro";

const { title, description, pubDateTime, updatedDate, heroImage, image, ogType, tags, noindex } = Astro.props;
---

<html lang="en-GB">
  <head>
    <BaseHead title={title} description={description} image={image} ogType={ogType} pubDate={pubDateTime} tags={tags} noindex={noindex} />
  </head>
  <body style="background: var(--color-bg); color: var(--color-text); font-family: 'Source Serif 4', Georgia, 'Times New Roman', serif; min-height: 100vh; display: flex; flex-direction: column; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;">
    <a class="skip-link" href="#main-content">Skip to main content</a>
    <Header />
    <main id="main-content" style="flex: 1;">
      <slot />
    </main>
    <Footer />
    <script>
      // Fix for mobile viewport height issues with iOS Safari
      function setVH() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      }
      window.addEventListener('resize', setVH);
      window.addEventListener('orientationchange', setVH);
      setVH();
    </script>
  </body>
</html>
