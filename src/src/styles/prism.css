/* ============================================================
   Indigo Ink Syntax Highlighting Theme
   Custom theme for Shiki (Astro's syntax highlighter)
   Uses dual themes with CSS variable switching for light/dark
   ============================================================ */

/* ---- Code block containers ---- */
pre.astro-code {
  background-color: var(--color-bg-alt) !important;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: 1.25rem;
  font-family: 'IBM Plex Mono', ui-monospace, SFMono-Regular, monospace;
  font-size: 0.875rem;
  line-height: 1.7;
  overflow-x: auto;
  margin: 1.5rem 0;
}

pre.astro-code::selection,
pre.astro-code *::selection {
  background: rgba(99, 102, 241, 0.25);
}

/* ---- Light mode: show light theme colours (default) ---- */
.astro-code,
.astro-code span {
  color: var(--shiki-light) !important;
  background-color: var(--shiki-light-bg) !important;
  font-style: var(--shiki-light-font-style) !important;
  font-weight: var(--shiki-light-font-weight) !important;
  text-decoration: var(--shiki-light-text-decoration) !important;
}

/* ---- Dark mode: switch to dark theme colours ---- */
[data-theme="dark"] .astro-code,
[data-theme="dark"] .astro-code span {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg) !important;
  font-style: var(--shiki-dark-font-style) !important;
  font-weight: var(--shiki-dark-font-weight) !important;
  text-decoration: var(--shiki-dark-text-decoration) !important;
}

/* Override the inline background on the pre element itself */
[data-theme="dark"] pre.astro-code {
  background-color: var(--color-bg-alt) !important;
}

/* ---- Inline code styling ---- */
:not(pre) > code {
  background: var(--color-primary-muted);
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  font-size: 0.875em;
  font-family: 'IBM Plex Mono', ui-monospace, SFMono-Regular, monospace;
}

/* ---- Scrollbar styling for code blocks ---- */
pre.astro-code::-webkit-scrollbar {
  height: 6px;
}

pre.astro-code::-webkit-scrollbar-track {
  background: transparent;
}

pre.astro-code::-webkit-scrollbar-thumb {
  background: var(--color-border-strong);
  border-radius: var(--radius-full);
}

pre.astro-code::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-subtle);
}
