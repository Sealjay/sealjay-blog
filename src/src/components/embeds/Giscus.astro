---
---

<div class="giscus-wrapper mt-12 sm:mt-16">
  <h2 class="text-xl sm:text-2xl font-bold text-zinc-800 dark:text-zinc-100 mb-6 flex items-center">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-accent-500 dark:text-accent-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
    </svg>
    Discussion
  </h2>
  
  <div class="bg-white dark:bg-zinc-800/70 rounded-xl border border-zinc-100 dark:border-zinc-700/40 p-4 sm:p-6 shadow-sm">
    <p class="text-zinc-600 dark:text-zinc-400 mb-4">
      Have thoughts or questions? Join the conversation below.
    </p>
    
    <div class="giscus-container overflow-hidden">
      <script
        is:inline
        src="https://giscus.app/client.js"
        data-repo="Sealjay/sealjay-blog"
        data-repo-id="R_kgDOIFGusQ"
        data-category="Comments"
        data-category-id="DIC_kwDOIFGusc4CWbkg"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-theme-dark="dark_dimmed"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async
      ></script>
    </div>
  </div>
</div>

<style>
  /* Ensure the giscus container adapts to mobile screens properly */
  .giscus-container {
    width: 100%;
  }
  
  /* Ensure giscus iframe is responsive */
  :global(.giscus-frame) {
    width: 100%;
    border: 0 !important;
  }
  
  /* Add dark mode theme toggle support */
  :global(html.dark) .giscus-wrapper :global(.giscus-frame) {
    border: 0;
  }
</style>

<script>
  // Handle theme changes for giscus
  const setupGiscusThemeSync = () => {
    const updateGiscusTheme = () => {
      const isDarkMode = document.documentElement.classList.contains('dark');
      const theme = isDarkMode ? 'dark_dimmed' : 'light';
      
      const iframe = document.querySelector('.giscus-frame');
      if (iframe) {
        iframe.contentWindow.postMessage({
          giscus: {
            setConfig: {
              theme
            }
          }
        }, 'https://giscus.app');
      }
    };
    
    // Set initial theme after giscus loads
    const observer = new MutationObserver((mutations) => {
      if (document.querySelector('.giscus-frame')) {
        updateGiscusTheme();
        
        // Keep observing to handle future theme changes
        const themeToggle = document.getElementById('theme-toggle');
        if (themeToggle) {
          themeToggle.addEventListener('click', () => {
            // Give time for the theme to change
            setTimeout(updateGiscusTheme, 200);
          });
        }
        
        observer.disconnect();
      }
    });
    
    observer.observe(document.body, { childList: true, subtree: true });
  };
  
  // Setup when the DOM is ready
  document.addEventListener('DOMContentLoaded', setupGiscusThemeSync);
</script>
