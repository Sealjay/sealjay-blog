---
interface Props {
  /** Visual variant */
  variant?: 'primary' | 'secondary' | 'ghost'
  /** Size */
  size?: 'sm' | 'md'
  /** If provided, renders as <a> */
  href?: string
  /** Disabled state (only applies to <button>) */
  disabled?: boolean
  /** Button type attribute (only applies to <button>) */
  type?: 'button' | 'submit' | 'reset'
  /** Additional CSS classes */
  class?: string
}

const {
  variant = 'primary',
  size = 'md',
  href,
  disabled = false,
  type = 'button',
  class: className,
} = Astro.props

const Tag = href ? 'a' : 'button'
const tagProps = href
  ? { href }
  : { type, disabled: disabled || undefined }
---

<Tag
  {...tagProps}
  class:list={[
    'btn-component',
    `btn--${variant}`,
    `btn--${size}`,
    disabled && 'btn--disabled',
    className,
  ]}
>
  <slot />
</Tag>

<style>
  .btn-component {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    border-radius: var(--radius-md);
    font-family: var(--font-heading);
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
  }

  .btn-component:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  /* Sizes */
  .btn--md {
    min-height: 44px;
    padding: 8px 20px;
    font-size: 0.875rem;
    line-height: 1.5rem;
  }

  .btn--sm {
    min-height: 36px;
    padding: 6px 14px;
    font-size: 0.8125rem;
    line-height: 1.5rem;
  }

  /* Primary */
  .btn--primary {
    background: var(--color-primary);
    color: #ffffff;
    border: none;
  }

  .btn--primary:hover {
    filter: brightness(1.1);
  }

  /* Secondary */
  .btn--secondary {
    background: transparent;
    color: var(--color-primary);
    border: 1px solid var(--color-primary);
  }

  .btn--secondary:hover {
    background: var(--color-primary-muted);
  }

  /* Ghost */
  .btn--ghost {
    background: transparent;
    color: var(--color-primary);
    border: none;
  }

  .btn--ghost:hover {
    background: var(--color-primary-muted);
  }

  /* Disabled */
  .btn--disabled {
    opacity: 0.5;
    pointer-events: none;
  }
</style>
