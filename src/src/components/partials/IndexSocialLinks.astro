---
import Bluesky from '../socialicons/Bluesky.astro'
import GitHub from '../socialicons/GitHub.astro'
import LinkedIn from '../socialicons/LinkedIn.astro'
import Mastodon from '../socialicons/Mastodon.astro'
---

<nav aria-label="Social links" class="social-links">
  <a
    href="https://github.com/sealjay"
    aria-label="GitHub profile"
    target="_blank"
    rel="noopener noreferrer"
    class="social-links__icon"
    data-social="GitHub"
  >
    <GitHub size={24} />
  </a>

  <a
    href="https://uk.linkedin.com/in/chrislloydjones"
    aria-label="LinkedIn profile"
    target="_blank"
    rel="noopener noreferrer"
    class="social-links__icon"
    data-social="LinkedIn"
  >
    <LinkedIn size={24} />
  </a>

  <a
    href="https://fosstodon.org/@sealjay"
    aria-label="Mastodon profile"
    target="_blank"
    rel="me noopener noreferrer"
    class="social-links__icon"
    data-social="Mastodon"
  >
    <Mastodon size={24} />
  </a>

  <a
    href="https://bsky.app/profile/sealjay.com"
    aria-label="Bluesky profile"
    target="_blank"
    rel="noopener noreferrer"
    class="social-links__icon"
    data-social="Bluesky"
  >
    <Bluesky size={24} />
  </a>
</nav>

<style>
  .social-links {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1.5rem;
  }

  .social-links__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    color: var(--color-text-muted);
    transition: color 150ms;
  }

  .social-links__icon:hover {
    color: var(--color-primary);
  }
</style>

<script>
  function initSocialTracking() {
    const links = document.querySelectorAll<HTMLAnchorElement>('.social-links__icon')
    for (const link of links) {
      link.addEventListener('click', () => {
        if (typeof window.plausible !== 'undefined') {
          window.plausible('Social Click', { props: { platform: link.dataset.social ?? 'Unknown' } })
        }
      })
    }
  }

  document.addEventListener('astro:page-load', initSocialTracking)
  initSocialTracking()
</script>
