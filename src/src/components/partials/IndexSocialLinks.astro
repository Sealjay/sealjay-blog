---
import GitHub from "../socialicons/GitHub.astro";
import LinkedIn from "../socialicons/LinkedIn.astro";
import Mail from "../socialicons/Mail.astro";
import X from "../socialicons/X.astro";
---

<div class="flex flex-wrap gap-4">
  <a href="https://github.com/sealjay"
     data-social="GitHub"
     class="social-link group flex items-center gap-3 rounded-full bg-white/50 dark:bg-zinc-800/50 px-3.5 py-2.5 text-sm font-medium text-zinc-800 dark:text-zinc-300 shadow-sm ring-1 ring-zinc-200/70 dark:ring-zinc-700/40 transition-all duration-200 hover:shadow-md hover:ring-accent-200 dark:hover:ring-accent-800/40 hover:bg-white dark:hover:bg-zinc-800">
    <span class="transform transition-transform duration-300 group-hover:-rotate-12">
      <GitHub />
    </span>
    <span>GitHub</span>
  </a>

  <a href="https://x.com/sealjay_clj"
     data-social="X"
     class="social-link group flex items-center gap-3 rounded-full bg-white/50 dark:bg-zinc-800/50 px-3.5 py-2.5 text-sm font-medium text-zinc-800 dark:text-zinc-300 shadow-sm ring-1 ring-zinc-200/70 dark:ring-zinc-700/40 transition-all duration-200 hover:shadow-md hover:ring-accent-200 dark:hover:ring-accent-800/40 hover:bg-white dark:hover:bg-zinc-800">
    <span class="transform transition-transform duration-300 group-hover:-rotate-12">
      <X />
    </span>
    <span>X</span>
  </a>

  <a href="https://uk.linkedin.com/in/chrislloydjones"
     data-social="LinkedIn"
     class="social-link group flex items-center gap-3 rounded-full bg-white/50 dark:bg-zinc-800/50 px-3.5 py-2.5 text-sm font-medium text-zinc-800 dark:text-zinc-300 shadow-sm ring-1 ring-zinc-200/70 dark:ring-zinc-700/40 transition-all duration-200 hover:shadow-md hover:ring-accent-200 dark:hover:ring-accent-800/40 hover:bg-white dark:hover:bg-zinc-800">
    <span class="transform transition-transform duration-300 group-hover:-rotate-12">
      <LinkedIn />
    </span>
    <span>LinkedIn</span>
  </a>

  <a href="https://fosstodon.org/@sealjay"
     data-social="Mastodon"
     class="social-link group flex items-center gap-3 rounded-full bg-white/50 dark:bg-zinc-800/50 px-3.5 py-2.5 text-sm font-medium text-zinc-800 dark:text-zinc-300 shadow-sm ring-1 ring-zinc-200/70 dark:ring-zinc-700/40 transition-all duration-200 hover:shadow-md hover:ring-accent-200 dark:hover:ring-accent-800/40 hover:bg-white dark:hover:bg-zinc-800"
     rel="me">
    <span class="transform transition-transform duration-300 group-hover:-rotate-12">
      <Mail />
    </span>
    <span>Mastodon</span>
  </a>
</div>

<script>
  function initSocialTracking() {
    const links = document.querySelectorAll<HTMLAnchorElement>('.social-link')
    for (const link of links) {
      link.addEventListener('click', () => {
        if (typeof window.plausible !== 'undefined') {
          window.plausible('Social Click', { props: { platform: link.dataset.social ?? 'Unknown' } })
        }
      })
    }
  }

  document.addEventListener('astro:page-load', initSocialTracking)
  initSocialTracking()
</script>
