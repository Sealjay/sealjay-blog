import { ArticleLayout } from '@/components/ArticleLayout'

export const meta = {
  author: 'Chris Lloyd-Jones',
  date: '2021-02-18T20:46:51.000Z',
  tags: ['Cognitive Services', 'How To', 'Python'],
  title: 'Extracting transcripts and insights from videos in Python',
  slug: 'extracting-transcripts-and-insights-from-videos-in-python',
}

export default (props) => <ArticleLayout meta={meta} {...props} />

Compared to YouTube from Google, and Twitch from Amazon, Microsoft's experiments with media have been... ill-feted in the past. From the shuttering of the Zune service in 2012, and the closure of the Mixer streaming service in July 2020, the track record doesn't look great.

**But** - Microsoft actually has a powerhouse of services for managing and handling video in the cloud. Enter{' '} [Azure Media Services Video Indexer](https://docs.microsoft.com/en-us/azure/media-services/video-indexer/) {' '} - a service which brings together the whole gamut of Azure Cognitive Services, including translation, and Computer Vision.

In the UK, we're still in lockdown due to the pandemic - so I've been trying to think of ways to help people stay connected, without burning out. This led me to work on a social video project to allow people to upload videos from their phone, automatically transcribing and posting them to teams.

In the course of this project ( _more detail of which will be in a forthcoming blog post series, around deploying Python Web Applications to Azure_ ) - I realised that the Python SDK for Video Indexer is a bit lacking. I found a great package by BK Lim, but there isn't an official SDK.

<figure class="kg-card kg-gallery-card kg-width-wide kg-card-hascaption">
  <div class="kg-gallery-container">
    <div class="kg-gallery-row">
      <div class="kg-gallery-image">
        <img
          src="__GHOST_URL__/content/images/2021/02/Screenshot-2021-02-18-at-20.31.12.png"
          width="1280"
          height="1008"
          loading="lazy"
          alt
          srcset="__GHOST_URL__/content/images/size/w600/2021/02/Screenshot-2021-02-18-at-20.31.12.png 600w, __GHOST_URL__/content/images/size/w1000/2021/02/Screenshot-2021-02-18-at-20.31.12.png 1000w, __GHOST_URL__/content/images/2021/02/Screenshot-2021-02-18-at-20.31.12.png 1280w"
          sizes="(min-width: 720px) 720px"
        />
      </div>
      <div class="kg-gallery-image">
        <img
          src="__GHOST_URL__/content/images/2021/02/Screenshot-2021-02-18-at-20.31.40.png"
          width="1628"
          height="1576"
          loading="lazy"
          alt
          srcset="__GHOST_URL__/content/images/size/w600/2021/02/Screenshot-2021-02-18-at-20.31.40.png 600w, __GHOST_URL__/content/images/size/w1000/2021/02/Screenshot-2021-02-18-at-20.31.40.png 1000w, __GHOST_URL__/content/images/size/w1600/2021/02/Screenshot-2021-02-18-at-20.31.40.png 1600w, __GHOST_URL__/content/images/2021/02/Screenshot-2021-02-18-at-20.31.40.png 1628w"
          sizes="(min-width: 720px) 720px"
        />
      </div>
    </div>
  </div>
  <figcaption>A social video project I've been working on</figcaption>
</figure>
<p>
  For most purposes, BK Lim's library would be great, but with the number of
  queries and callbacks I expected, being able to run the library asynchronously
  for me was a must.
</p>
<h3 id="aio-videoindexer-allows-you-to-use-azure-media-services-in-python">
  aio-videoindexer allows you to use Azure Media Services in Python
</h3>
<p>
  I thought it might be useful for others, so I've spun the library out into{' '}
  <a href="https://pypi.org/project/aio-videoindexer/">a package on PyPy</a>.
</p>
<figure class="kg-card kg-bookmark-card">
  <a
    class="kg-bookmark-container"
    href="https://pypi.org/project/aio-videoindexer/"
  >
    <div class="kg-bookmark-content">
      <div class="kg-bookmark-title">aio-videoindexer</div>
      <div class="kg-bookmark-description">
        An async video indexer package for querying Microsoft Media Services
        Video Indexer in Python.
      </div>
      <div class="kg-bookmark-metadata">
        <img
          class="kg-bookmark-icon"
          src="https://pypi.org/static/images/favicon.6a76275d.ico"
        />
        <span class="kg-bookmark-author">PyPI</span>
      </div>
    </div>
    <div class="kg-bookmark-thumbnail">
      <img src="https://pypi.org/static/images/twitter.90915068.jpg" />
    </div>
  </a>
</figure>
This doesn't implement the full range of the [Video Indexer Operations API](https://api-portal.videoindexer.ai/docs/services/Operations/operations/Get-Video-Access-Token?)
, but for uploading from blob storage, getting video display widgets, and listing
out video information - this should be a good start!
<script src="https://gist.github.com/Sealjay-clj/0e1273cc038646a81c0aac482b9ca170.js"></script>
I've added [basic documentation to
ReadTheDocs,](https://aio-videoindexer.readthedocs.io/en/latest/) and you can
see this package in action in [the Teams-Vid
repository](https://github.com/sealjay-clj/teams-vid) . In an upcoming blog
post, I'll show how Video Indexing can be used to power a social video
application made with Python.
<figure class="kg-card kg-image-card kg-card-hascaption">
  <img
    src="__GHOST_URL__/content/images/2021/02/image-24.png"
    class="kg-image"
    alt
    loading="lazy"
    width="1244"
    height="686"
    srcset="__GHOST_URL__/content/images/size/w600/2021/02/image-24.png 600w, __GHOST_URL__/content/images/size/w1000/2021/02/image-24.png 1000w, __GHOST_URL__/content/images/2021/02/image-24.png 1244w"
    sizes="(min-width: 720px) 720px"
  />
  <figcaption>A list of uploaded videos</figcaption>
</figure>
<figure class="kg-card kg-bookmark-card">
  <a
    class="kg-bookmark-container"
    href="https://github.com/sealjay-clj/teams-vid"
  >
    <div class="kg-bookmark-content">
      <div class="kg-bookmark-title">Sealjay-clj/teams-vid</div>
      <div class="kg-bookmark-description">
        Web application for mobile and desktop to quickly post videos for your
        team. Demonstrates Starlette, and Azure Media Services Video Indexer.
        Lets people record themselves on the fly, to stay in syn...
      </div>
      <div class="kg-bookmark-metadata">
        <img
          class="kg-bookmark-icon"
          src="https://github.githubassets.com/favicons/favicon.svg"
        />
        <span class="kg-bookmark-author">GitHub</span>
        <span class="kg-bookmark-publisher">Sealjay-clj</span>
      </div>
    </div>
    <div class="kg-bookmark-thumbnail">
      <img src="https://avatars.githubusercontent.com/u/19361656?s&#x3D;400&amp;v&#x3D;4" />
    </div>
  </a>
</figure>
