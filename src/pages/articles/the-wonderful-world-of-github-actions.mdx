import { ArticleLayout } from '@/components/ArticleLayout'

export const meta = {
  author: 'Chris Lloyd-Jones',
  date: '2021-09-21T14:46:35.000Z',
  tags: ['How To', 'Python', 'Snippets', 'Open Source', 'Machine Learning'],
  title: 'The Wonderful World of GitHub Actions',
  slug: 'the-wonderful-world-of-github-actions',
}

export default (props) => <ArticleLayout meta={meta} {...props} />

I've been open sourcing projects at Avanade for some time. I've recently needed a ton of automation - from code scans for security vulnerabilities and licensing compliance to automatically merging pull requests after a certain amount of time.{' '}

I've just started a new role as Head of Open Technologies for Avanade - bringing together Open Innovation, Open Source, and supporting a broader community. I'll share some of the information I've learnt whilst using GitHub Actions to help my work.

### So, what are GitHub Actions?

[GitHub Actions provide automation for your code repositories](https://docs.microsoft.com/en-us/learn/paths/automate-workflow-github-actions/?WT.mc_id=AI-MVP-5004204) . Each action is described in a YAML defined workflow file that let you execute logic based upon events like Pull Requests, Pushes to branches, issue creation etc.

Many projects need specific workflows and requirements, such as a restriction on the approved open-source licences, a desire to create issues based on '#TODO:' notes buried in code comments, or to make life easier.

### How do you set up a GitHub action?

GitHub Actions YAML files are stored within a code repository, in a dot folder called `.github/workflows/`. You can define one or more{' '} _workflows_ which developers can use to group together different related jobs and actions.

Each _workflow_ defines a series of _jobs_. A _job_ is made up of multiple _steps_. A _step_ combines multiple{' '} _actions_. Finally, all of this runs on a _runner_ somewhere - a machine or a container spun up to run and execute your workflow.

Finally, you define which _event_ triggers which _workflows_. Got that?! This diagram might show better how everything fits together.

<figure class="kg-card kg-image-card kg-card-hascaption">
  <img
    src="__GHOST_URL__/content/images/2021/09/GHA-Blog.png"
    class="kg-image"
    alt="A diagram showing an event triggering a workflow. The next step shows a workflow running on a runner, a machine. This ends with outputs emitting from the runner. There is a box under the runner, showing a multiple steps in a job - the job example is a called a compliance scan. There are multiple steps, each step has an action. The first step is download a code repo, with the actions/checkout@v2 action. The second step is save cache, with the actions/cache@v2 repo. The final step is run licence scan, with any action you choose."
    loading="lazy"
    width="624"
    height="617"
    srcset="__GHOST_URL__/content/images/size/w600/2021/09/GHA-Blog.png 600w, __GHOST_URL__/content/images/2021/09/GHA-Blog.png 624w"
  />
  <figcaption>An example of the process running end to end</figcaption>
</figure>
<p>
  I'll talk about some of the Actions I used on my last project (working with
  Brain Control Devices, a robotics platform, and a robot) and some I'm trying
  out now. I will assume some familiarity with{' '}
  <a href="https://guides.github.com/introduction/flow/">the GitHub flow</a>,
  mainly pull requests, pushes, and branching.{' '}
  <a href="https://guides.github.com/introduction/flow/">
    If not, I recommend a read
  </a>
  !
</p>
<figure class="kg-card kg-bookmark-card">
  <a
    class="kg-bookmark-container"
    href="https://github.com/Avanade/emtech-stretch-labs"
  >
    <div class="kg-bookmark-content">
      <div class="kg-bookmark-title">Avanade/emtech-stretch-labs</div>
      <div class="kg-bookmark-description">
        Repositories related to Avanade’s exploration with Rocos, NextMind and
        Hello Robot. - Avanade/emtech-stretch-labs
      </div>
      <div class="kg-bookmark-metadata">
        <img
          class="kg-bookmark-icon"
          src="https://github.githubassets.com/favicons/favicon.svg"
          alt=""
        />
        <span class="kg-bookmark-author">GitHub</span>
        <span class="kg-bookmark-publisher">Avanade</span>
      </div>
    </div>
    <div class="kg-bookmark-thumbnail">
      <img
        src="https://opengraph.githubassets.com/8edec2b56f7ea704dba22d06272ce6b8aebda6d1603e9bf8f081ddddbd5bce14/Avanade/emtech-stretch-labs"
        alt=""
      />
    </div>
  </a>
</figure>
<h2 id="finding-a-github-action">Finding a GitHub Action</h2>
<p>
  There are many different GitHub Actions available on the GitHub Marketplace.
</p>
<figure class="kg-card kg-bookmark-card">
  <a
    class="kg-bookmark-container"
    href="https://github.com/marketplace?type&#x3D;actions"
  >
    <div class="kg-bookmark-content">
      <div class="kg-bookmark-title">
        GitHub Marketplace: actions to improve your workflow
      </div>
      <div class="kg-bookmark-description">
        Find the actions that help your team build better, together.
      </div>
      <div class="kg-bookmark-metadata">
        <img
          class="kg-bookmark-icon"
          src="https://github.com/fluidicon.png"
          alt=""
        />
        <span class="kg-bookmark-author">GitHub</span>
      </div>
    </div>
    <div class="kg-bookmark-thumbnail">
      <img
        src="https://github.githubassets.com/images/modules/site/social-cards/marketplace.png"
        alt=""
      />
    </div>
  </a>
</figure>

### GitHub Actions for Azure - great for ML

Microsoft also maintains a{' '} [specific list of GitHub Actions for Azure](https://docs.microsoft.com/en-us/azure/developer/github/github-actions?WT.mc_id=AI-MVP-5004204#where-can-i-see-all-the-available-actions) {' '} - and some of these are particularly useful for integrating MLOps, or{' '} [the practices you need to deploy Machine Learning models in production alongside your code](https://docs.microsoft.com/en-us/azure/machine-learning/concept-model-management-and-deployment?WT.mc_id=AI-MVP-5004204) . GitHub Actions are helpful to improve collaboration between developers and data scientists to increase reproducibility and your machine learning development consistency.

### Licence Compliance

I've tried some of the Open Source licence compliance tools, and I'm now looking at some of the commercial options - I don't have an opinion on those yet, but I can show you some of the OSS tools in use.

I'm still using{' '} [`ShiftLeftSecurity/scan-action`](https://github.com/ShiftLeftSecurity/scan-action) {' '} from [http://slscan.io/](http://slscan.io/) and that tool supports many different programming languages.

For Python repositories, I particularly like{' '} [`andersy005/gh-action-py-liccheck`](https://github.com/andersy005/gh-action-py-liccheck) {' '} which uses a `pyproject.toml` file format.

Here's an example of these actions in use:

<script src="https://gist.github.com/Sealjay/cb59f8aaf25de08a830b59358d560571.js"></script>

### Issues and Work Tracking

I like to use two actions for my issues and my work -{' '} [one to create issues for Todos in code](https://github.com/ribtoks/tdg-github-action) {' '} called `ribtoks/tdg-github-action` and another to{' '} [make sure new pull requests are assigned to a GitHub project board related to the project](https://github.com/AdityaGovardhan/ga-pull-requests-projects) {' '} called `AdityaGovardhan/ga-pull-requests-projects`.

Here's an example of these actions in use:

<script src="https://gist.github.com/Sealjay/a3b3848342fef7d279bb85d63e033927.js"></script>

## Where to learn more?

GitHub Actions make your life so much easier.   [I recommend the Microsoft Learn path](https://docs.microsoft.com/en-us/learn/paths/automate-workflow-github-actions/?WT.mc_id=AI-MVP-5004204) {' '} to get hands-on and try out some examples.

<figure class="kg-card kg-bookmark-card">
  <a
    class="kg-bookmark-container"
    href="https://docs.microsoft.com/en-us/learn/paths/automate-workflow-github-actions/?WT.mc_id&#x3D;AI-MVP-5004204"
  >
    <div class="kg-bookmark-content">
      <div class="kg-bookmark-title">
        Automate your workflow with GitHub Actions - Learn
      </div>
      <div class="kg-bookmark-description">
        Learn how GitHub Actions enables you to automate your software
        development cycle and deploy applications to Azure.
      </div>
      <div class="kg-bookmark-metadata">
        <span class="kg-bookmark-author">Microsoft Docs</span>
        <span class="kg-bookmark-publisher">tpetchel</span>
      </div>
    </div>
    <div class="kg-bookmark-thumbnail">
      <img
        src="https://docs.microsoft.com/learn/achievements/github/automate-workflow-github-actions-social.png"
        alt=""
      />
    </div>
  </a>
</figure>
